---
layout:     post
title:      Orange'S：一个操作系统的实现
subtitle:   进程
date:       2019-11-06
header-img: img/post-first-blog-web.jpg
catalog: true
tags:
    - x86
    - 操作系统
    - 文件系统

---

### 文件系统

主要验证代码是否ok，后续在做笔记，工作越来越忙！


a章节，keyboard键盘中断处理程序，按下任意键盘，只显示了*
后面再无反应，详细看书上解释所说！

![](https://raw.githubusercontent.com/dbb4560/StorePicturebed/master/wirtePicture/20191203163954.png)



b章节
使用in out指令操作，从8042读取缓冲扫描码！


如图所示，按下a

![](https://raw.githubusercontent.com/dbb4560/StorePicturebed/master/wirtePicture/20191203165520.png)

c章节

用数组表示扫描码，8042的输入缓冲区大小只有一个字节，所以当一个扫描码有不止一个字符时，实际上会产生不止一个中断，也就是说，如果我们按下Shift+A,产生的0x2A0x1E0x9E0xAA是4次中断接收来的。

因为第一次中断时收到的0x2A无法让我们知道用户最终会完成什么！
所以0x2A要保存起来，建立缓冲区，新建立一个任务专门用来解析它们并做相应处理！

任务是tty，这个任务以后不仅仅处理键盘操作也处理比如屏幕输出等内容！

![](https://raw.githubusercontent.com/dbb4560/StorePicturebed/master/wirtePicture/20191203165520.png)

d章节 
让字符显示出来

![](https://raw.githubusercontent.com/dbb4560/StorePicturebed/master/wirtePicture/20191203171444.png)




